"use strict";angular.module("StickItOnApp",["ngCookies","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("StickItOnApp").controller("MainCtrl",["$scope","Tabservice",function(a,b){function c(c,d){b.getRecentData(d).then(function(b){a.Tabs[c].data=b.data[0]}),a.Tabs[c].recentActive=!0,a.Tabs[c].bestActive=!1}function d(){b.getTabs().then(function(b){a.Tabs=b.data;for(var d in a.Tabs)c(d,a.Tabs[d].hashtags)})}d(),a.newTab=function(){var c={title:a.inputTitle,hashtags:a.inputTags};b.newTab($.param(c)).then(function(){a.Tabs.push(c)})},a.delete=function(c,d){a.Tabs.splice(c,1),b.deleteTab(d)},a.bestData=function(c,d){b.getBestData(d).then(function(b){a.Tabs[c].data=b.data[0]}),a.Tabs[c].recentActive=!1,a.Tabs[c].bestActive=!0},a.recentData=function(a,b){c(a,b)}}]),angular.module("StickItOnApp").service("Tabservice",["$http","Flashservice",function(a,b){var c="http://gcdc2013-keeptabson.appspot.com/tag/",d=function(c,d,e,f){return a({method:c,url:d,data:e,withCredentials:!0,cache:!1,crossDomain:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){return f&&b.show(" message ","success"),a.data&&console.log("Data received"),a},function(a){if(console.log("Data not received"),f)for(var c in a.data)b.show(e[c],"danger");return a})};return{newTab:function(a){return d("POST",c,a,!0)},getTabs:function(){return d("GET",c)},deleteTab:function(a){return d("DELETE",c+encodeURIComponent(a))},getBestData:function(a){return d("GET",c+"best/"+encodeURIComponent(a))},getRecentData:function(a){return d("GET",c+"recent/"+encodeURIComponent(a))}}}]),angular.module("StickItOnApp").service("Flashservice",["$rootScope",function(a){return{show:function(b,c){a.flash=b,a.flashType=c},clear:function(){a.flash=""}}}]),angular.module("StickItOnApp").directive("youtube",["$sce",function(a){function b(a){var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,c=a.match(b);return c&&11==c[7].length?c[7]:(console("Url incorrect"),void 0)}return{restrict:"EA",scope:{code:"="},replace:!0,template:'<div style="height:200px;"><iframe style="overflow:hidden;height:100%;width:100%" width="100%" height="100%" src="{{url}}" frameborder="0" allowfullscreen> </iframe></div>',link:function(c){var d=b(c.code);c.url=a.trustAsResourceUrl("http://www.youtube.com/embed/"+d)}}}]);